-- ENUM para uso da tabela TB_GAME
CREATE TYPE GENRE AS ENUM(
	'ACTION_AND_ADVENTURE',
	'ELECTRONIC_ACTION_RPG',
	'PLATFORM',
	'SPORT'
);

-- ENUM para uso da tabela TB_GAME
CREATE TYPE PLATFORMS AS ENUM(
	'MULTIPLE_PLATFORMS',
	'PC',
	'PLAY_STATION',
	'SEGA_CD',
	'SEGA_CD_AND_PC',
	'SUPER_SNES',
	'SUPER_SNES_AND_PC',
	'XBOX'
);

CREATE TABLE TB_GAME (
	ID BIGINT GENERATED BY DEFAULT AS IDENTITY,
	TITLE VARCHAR(255) NOT NULL,
	GAME_YEAR INTEGER NOT NULL,
	GENRE GENRE NOT NULL CONSTRAINT GENRE_CHECK CHECK (
		GENRE IN (
			'ACTION_AND_ADVENTURE',
			'ELECTRONIC_ACTION_RPG',
			'PLATFORM',
			'SPORT'
		)
	),
	PLATFORMS PLATFORMS NOT NULL CONSTRAINT PLATFORMS_CHECK CHECK (
		PLATFORMS IN (
			'MULTIPLE_PLATFORMS',
			'PC',
			'PLAY_STATION',
			'SEGA_CD',
			'SEGA_CD_AND_PC',
			'SUPER_SNES',
			'SUPER_SNES_AND_PC',
			'XBOX'
		)
	),
	SCORE NUMERIC(10, 1) NOT NULL,
	IMG_URL VARCHAR(255) NOT NULL,
	SHORT_DESCRIPTION TEXT NOT NULL,
	LONG_DESCRIPTION TEXT NOT NULL,

	PRIMARY KEY (ID)
);